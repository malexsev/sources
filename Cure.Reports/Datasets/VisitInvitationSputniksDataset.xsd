<?xml version="1.0" encoding="utf-8"?>
<xs:schema id="VisitInvitationSputniksDataset" targetNamespace="http://tempuri.org/VisitInvitationDataset.xsd" xmlns:mstns="http://tempuri.org/VisitInvitationDataset.xsd" xmlns="http://tempuri.org/VisitInvitationDataset.xsd" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:msdata="urn:schemas-microsoft-com:xml-msdata" xmlns:msprop="urn:schemas-microsoft-com:xml-msprop" attributeFormDefault="qualified" elementFormDefault="qualified">
  <xs:annotation>
    <xs:appinfo source="urn:schemas-microsoft-com:xml-msdatasource">
      <DataSource DefaultConnectionIndex="0" FunctionsComponentName="QueriesTableAdapter" Modifier="AutoLayout, AnsiClass, Class, Public" SchemaSerializationMode="IncludeSchema" xmlns="urn:schemas-microsoft-com:xml-msdatasource">
        <Connections>
          <Connection AppSettingsObjectName="Web.config" AppSettingsPropertyName="ApplicationServices" ConnectionStringObject="" IsAppSettingsProperty="true" Modifier="Assembly" Name="ApplicationServices (Web.config)" ParameterPrefix="@" PropertyReference="AppConfig.System.Configuration.ConfigurationManager.0.ConnectionStrings.ApplicationServices.ConnectionString" Provider="System.Data.SqlClient" />
          <!--<Connection ConnectionStringObject="Data Source=ZEIMAN-PC;Initial Catalog=Cure;Persist Security Info=True;User ID=sa;Password=1238;MultipleActiveResultSets=True;Application Name=EntityFramework" IsAppSettingsProperty="false" Modifier="Assembly" Name="DataEntities (Web.config)" ParameterPrefix="@" Provider="System.Data.SqlClient" />-->
        </Connections>
        <Tables>
          <TableAdapter BaseClass="System.ComponentModel.Component" DataAccessorModifier="AutoLayout, AnsiClass, Class, Public" DataAccessorName="VisitInvitationSputniksTableAdapter" GeneratorDataComponentClassName="VisitInvitationSputniksTableAdapter" Name="dsVistInvitationSputniks" UserDataComponentName="VisitInvitationSputniksTableAdapter">
            <MainSource>
              <DbSource ConnectionRef="ApplicationServices (Web.config)" DbObjectType="Unknown" FillMethodModifier="Public" FillMethodName="Fill" GenerateMethods="Both" GenerateShortCommands="false" GeneratorGetMethodName="GetData" GeneratorSourceName="Fill" GetMethodModifier="Public" GetMethodName="GetData" QueryType="Rowset" ScalarCallRetval="System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" UseOptimisticConcurrency="false" UserGetMethodName="GetData" UserSourceName="Fill">
                <SelectCommand>
                  <DbCommand CommandType="Text" ModifiedByUser="true">
                    <CommandText>SELECT NEWID() AS Id, COALESCE
                   ((SELECT TOP (1) Email
                     FROM   Sputnik AS s
                     WHERE (OrderId = o.Id)
                     ORDER BY IsPrimary DESC), '-') AS SoprovodEmail, Sputnik.Name, Sputnik.NameEn, Sputnik.Familiya, Sputnik.FamiliyaEn, Sputnik.Otchestvo, Sputnik.Email, 
               Sputnik.Contacts, Sputnik.BirthDate, Sputnik.SeriaNumber, Sputnik.IsPrimary, Sputnik.OrderId, Sputnik.Id AS SputnikId, RefRodstvo.Name AS RodstvoName, 
               RefRodstvo.Description AS RodstvoDescription, RefRodstvo.Sort AS RodstvoSort, RefRodstvo.SoprovodRuLabel AS RodstvoSoprovodRuLabel, 
               RefRodstvo.SoprovodChLabel AS RodstvoSoprovodChLabel, RefCountry.Name AS CountryName, RefCountry.NameCh AS CountryNameCh, 
               RefCountry.NameEn AS CountryNameEn, RefCountry.Description AS CountryDescription, RefCountry.PosolstvoChLabel AS CountryPosolstvoChLabel, 
               RefCountry.PosolstvoRusLabel AS CountryPosolstvoRusLabel, RefCountry.NacionalnostChLabel AS CountryNacionalnostChLabel
FROM  Sputnik LEFT OUTER JOIN
               RefCountry ON Sputnik.CountryId = RefCountry.Id LEFT OUTER JOIN
               RefRodstvo ON Sputnik.RodstvoId = RefRodstvo.Id RIGHT OUTER JOIN
               [Order] AS o ON Sputnik.OrderId = o.Id RIGHT OUTER JOIN
               Visit AS v ON o.Id = v.OrderId
WHERE (v.Id = @VisitId)</CommandText>
                    <Parameters>
                      <Parameter AllowDbNull="false" AutogeneratedName="VisitId" ColumnName="Id" DataSourceName="Cure.dbo.Visit" DataTypeServer="int" DbType="Int32" Direction="Input" ParameterName="@VisitId" Precision="0" ProviderType="Int" Scale="0" Size="4" SourceColumn="Id" SourceColumnNullMapping="false" SourceVersion="Current" />
                    </Parameters>
                  </DbCommand>
                </SelectCommand>
              </DbSource>
            </MainSource>
            <Mappings>
              <Mapping SourceColumn="Id" DataSetColumn="Id" />
              <Mapping SourceColumn="SoprovodEmail" DataSetColumn="SoprovodEmail" />
              <Mapping SourceColumn="OrderId" DataSetColumn="OrderId" />
              <Mapping SourceColumn="Name" DataSetColumn="Name" />
              <Mapping SourceColumn="NameEn" DataSetColumn="NameEn" />
              <Mapping SourceColumn="Familiya" DataSetColumn="Familiya" />
              <Mapping SourceColumn="FamiliyaEn" DataSetColumn="FamiliyaEn" />
              <Mapping SourceColumn="Otchestvo" DataSetColumn="Otchestvo" />
              <Mapping SourceColumn="Email" DataSetColumn="Email" />
              <Mapping SourceColumn="Contacts" DataSetColumn="Contacts" />
              <Mapping SourceColumn="BirthDate" DataSetColumn="BirthDate" />
              <Mapping SourceColumn="SeriaNumber" DataSetColumn="SeriaNumber" />
              <Mapping SourceColumn="IsPrimary" DataSetColumn="IsPrimary" />
              <Mapping SourceColumn="SputnikId" DataSetColumn="SputnikId" />
              <Mapping SourceColumn="RodstvoName" DataSetColumn="RodstvoName" />
              <Mapping SourceColumn="RodstvoDescription" DataSetColumn="RodstvoDescription" />
              <Mapping SourceColumn="RodstvoSort" DataSetColumn="RodstvoSort" />
              <Mapping SourceColumn="RodstvoSoprovodRuLabel" DataSetColumn="RodstvoSoprovodRuLabel" />
              <Mapping SourceColumn="RodstvoSoprovodChLabel" DataSetColumn="RodstvoSoprovodChLabel" />
              <Mapping SourceColumn="CountryName" DataSetColumn="CountryName" />
              <Mapping SourceColumn="CountryNameCh" DataSetColumn="CountryNameCh" />
              <Mapping SourceColumn="CountryNameEn" DataSetColumn="CountryNameEn" />
              <Mapping SourceColumn="CountryDescription" DataSetColumn="CountryDescription" />
              <Mapping SourceColumn="CountryPosolstvoChLabel" DataSetColumn="CountryPosolstvoChLabel" />
              <Mapping SourceColumn="CountryPosolstvoRusLabel" DataSetColumn="CountryPosolstvoRusLabel" />
              <Mapping SourceColumn="CountryNacionalnostChLabel" DataSetColumn="CountryNacionalnostChLabel" />
            </Mappings>
            <Sources />
          </TableAdapter>
        </Tables>
        <Sources />
      </DataSource>
    </xs:appinfo>
  </xs:annotation>
  <xs:element name="VisitInvitationSputniksDataset" msdata:IsDataSet="true" msdata:UseCurrentLocale="true" msprop:EnableTableAdapterManager="true" msprop:Generator_DataSetName="VisitInvitationSputniksDataset" msprop:Generator_UserDSName="VisitInvitationSputniksDataset">
    <xs:complexType>
      <xs:choice minOccurs="0" maxOccurs="unbounded">
        <xs:element name="dsVistInvitationSputniks" msprop:Generator_TableClassName="dsVistInvitationSputniksDataTable" msprop:Generator_TableVarName="tabledsVistInvitationSputniks" msprop:Generator_TablePropName="dsVistInvitationSputniks" msprop:Generator_RowDeletingName="dsVistInvitationSputniksRowDeleting" msprop:Generator_RowChangingName="dsVistInvitationSputniksRowChanging" msprop:Generator_RowEvHandlerName="dsVistInvitationSputniksRowChangeEventHandler" msprop:Generator_RowDeletedName="dsVistInvitationSputniksRowDeleted" msprop:Generator_UserTableName="dsVistInvitationSputniks" msprop:Generator_RowChangedName="dsVistInvitationSputniksRowChanged" msprop:Generator_RowEvArgName="dsVistInvitationSputniksRowChangeEvent" msprop:Generator_RowClassName="dsVistInvitationSputniksRow">
          <xs:complexType>
            <xs:sequence>
              <xs:element name="Id" msdata:DataType="System.Guid, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" msdata:ReadOnly="true" msprop:Generator_ColumnVarNameInTable="columnId" msprop:Generator_ColumnPropNameInRow="Id" msprop:Generator_ColumnPropNameInTable="IdColumn" msprop:Generator_UserColumnName="Id" type="xs:string" minOccurs="0" />
              <xs:element name="SoprovodEmail" msdata:ReadOnly="true" msprop:Generator_ColumnVarNameInTable="columnSoprovodEmail" msprop:Generator_ColumnPropNameInRow="SoprovodEmail" msprop:Generator_ColumnPropNameInTable="SoprovodEmailColumn" msprop:Generator_UserColumnName="SoprovodEmail" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="250" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="OrderId" msprop:Generator_ColumnVarNameInTable="columnOrderId" msprop:Generator_ColumnPropNameInRow="OrderId" msprop:Generator_ColumnPropNameInTable="OrderIdColumn" msprop:Generator_UserColumnName="OrderId" type="xs:int" minOccurs="0" />
              <xs:element name="Name" msprop:Generator_ColumnVarNameInTable="columnName" msprop:Generator_ColumnPropNameInRow="Name" msprop:Generator_ColumnPropNameInTable="NameColumn" msprop:Generator_UserColumnName="Name" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="250" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="NameEn" msprop:Generator_ColumnVarNameInTable="columnNameEn" msprop:Generator_ColumnPropNameInRow="NameEn" msprop:Generator_ColumnPropNameInTable="NameEnColumn" msprop:Generator_UserColumnName="NameEn" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="250" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="Familiya" msprop:Generator_ColumnVarNameInTable="columnFamiliya" msprop:Generator_ColumnPropNameInRow="Familiya" msprop:Generator_ColumnPropNameInTable="FamiliyaColumn" msprop:Generator_UserColumnName="Familiya" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="250" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="FamiliyaEn" msprop:Generator_ColumnVarNameInTable="columnFamiliyaEn" msprop:Generator_ColumnPropNameInRow="FamiliyaEn" msprop:Generator_ColumnPropNameInTable="FamiliyaEnColumn" msprop:Generator_UserColumnName="FamiliyaEn" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="250" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="Otchestvo" msprop:Generator_ColumnVarNameInTable="columnOtchestvo" msprop:Generator_ColumnPropNameInRow="Otchestvo" msprop:Generator_ColumnPropNameInTable="OtchestvoColumn" msprop:Generator_UserColumnName="Otchestvo" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="250" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="Email" msprop:Generator_ColumnVarNameInTable="columnEmail" msprop:Generator_ColumnPropNameInRow="Email" msprop:Generator_ColumnPropNameInTable="EmailColumn" msprop:Generator_UserColumnName="Email" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="250" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="Contacts" msprop:Generator_ColumnVarNameInTable="columnContacts" msprop:Generator_ColumnPropNameInRow="Contacts" msprop:Generator_ColumnPropNameInTable="ContactsColumn" msprop:Generator_UserColumnName="Contacts" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="250" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="BirthDate" msprop:Generator_ColumnVarNameInTable="columnBirthDate" msprop:Generator_ColumnPropNameInRow="BirthDate" msprop:Generator_ColumnPropNameInTable="BirthDateColumn" msprop:Generator_UserColumnName="BirthDate" type="xs:dateTime" minOccurs="0" />
              <xs:element name="SeriaNumber" msprop:Generator_ColumnVarNameInTable="columnSeriaNumber" msprop:Generator_ColumnPropNameInRow="SeriaNumber" msprop:Generator_ColumnPropNameInTable="SeriaNumberColumn" msprop:Generator_UserColumnName="SeriaNumber" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="50" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="IsPrimary" msprop:Generator_ColumnVarNameInTable="columnIsPrimary" msprop:Generator_ColumnPropNameInRow="IsPrimary" msprop:Generator_ColumnPropNameInTable="IsPrimaryColumn" msprop:Generator_UserColumnName="IsPrimary" type="xs:boolean" minOccurs="0" />
              <xs:element name="SputnikId" msdata:ReadOnly="true" msdata:AutoIncrement="true" msdata:AutoIncrementSeed="-1" msdata:AutoIncrementStep="-1" msprop:Generator_ColumnVarNameInTable="columnSputnikId" msprop:Generator_ColumnPropNameInRow="SputnikId" msprop:Generator_ColumnPropNameInTable="SputnikIdColumn" msprop:Generator_UserColumnName="SputnikId" type="xs:int" minOccurs="0" />
              <xs:element name="RodstvoName" msprop:Generator_ColumnVarNameInTable="columnRodstvoName" msprop:Generator_ColumnPropNameInRow="RodstvoName" msprop:Generator_ColumnPropNameInTable="RodstvoNameColumn" msprop:Generator_UserColumnName="RodstvoName" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="50" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="RodstvoDescription" msprop:Generator_ColumnVarNameInTable="columnRodstvoDescription" msprop:Generator_ColumnPropNameInRow="RodstvoDescription" msprop:Generator_ColumnPropNameInTable="RodstvoDescriptionColumn" msprop:Generator_UserColumnName="RodstvoDescription" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="250" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="RodstvoSort" msprop:Generator_ColumnVarNameInTable="columnRodstvoSort" msprop:Generator_ColumnPropNameInRow="RodstvoSort" msprop:Generator_ColumnPropNameInTable="RodstvoSortColumn" msprop:Generator_UserColumnName="RodstvoSort" type="xs:int" minOccurs="0" />
              <xs:element name="RodstvoSoprovodRuLabel" msprop:Generator_ColumnVarNameInTable="columnRodstvoSoprovodRuLabel" msprop:Generator_ColumnPropNameInRow="RodstvoSoprovodRuLabel" msprop:Generator_ColumnPropNameInTable="RodstvoSoprovodRuLabelColumn" msprop:Generator_UserColumnName="RodstvoSoprovodRuLabel" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="150" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="RodstvoSoprovodChLabel" msprop:Generator_ColumnVarNameInTable="columnRodstvoSoprovodChLabel" msprop:Generator_ColumnPropNameInRow="RodstvoSoprovodChLabel" msprop:Generator_ColumnPropNameInTable="RodstvoSoprovodChLabelColumn" msprop:Generator_UserColumnName="RodstvoSoprovodChLabel" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="150" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="CountryName" msprop:Generator_ColumnVarNameInTable="columnCountryName" msprop:Generator_ColumnPropNameInRow="CountryName" msprop:Generator_ColumnPropNameInTable="CountryNameColumn" msprop:Generator_UserColumnName="CountryName" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="50" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="CountryNameCh" msprop:Generator_ColumnVarNameInTable="columnCountryNameCh" msprop:Generator_ColumnPropNameInRow="CountryNameCh" msprop:Generator_ColumnPropNameInTable="CountryNameChColumn" msprop:Generator_UserColumnName="CountryNameCh" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="50" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="CountryNameEn" msprop:Generator_ColumnVarNameInTable="columnCountryNameEn" msprop:Generator_ColumnPropNameInRow="CountryNameEn" msprop:Generator_ColumnPropNameInTable="CountryNameEnColumn" msprop:Generator_UserColumnName="CountryNameEn" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="50" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="CountryDescription" msprop:Generator_ColumnVarNameInTable="columnCountryDescription" msprop:Generator_ColumnPropNameInRow="CountryDescription" msprop:Generator_ColumnPropNameInTable="CountryDescriptionColumn" msprop:Generator_UserColumnName="CountryDescription" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="500" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="CountryPosolstvoChLabel" msprop:Generator_ColumnVarNameInTable="columnCountryPosolstvoChLabel" msprop:Generator_ColumnPropNameInRow="CountryPosolstvoChLabel" msprop:Generator_ColumnPropNameInTable="CountryPosolstvoChLabelColumn" msprop:Generator_UserColumnName="CountryPosolstvoChLabel" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="150" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="CountryPosolstvoRusLabel" msprop:Generator_ColumnVarNameInTable="columnCountryPosolstvoRusLabel" msprop:Generator_ColumnPropNameInRow="CountryPosolstvoRusLabel" msprop:Generator_ColumnPropNameInTable="CountryPosolstvoRusLabelColumn" msprop:Generator_UserColumnName="CountryPosolstvoRusLabel" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="150" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
              <xs:element name="CountryNacionalnostChLabel" msprop:Generator_ColumnVarNameInTable="columnCountryNacionalnostChLabel" msprop:Generator_ColumnPropNameInRow="CountryNacionalnostChLabel" msprop:Generator_ColumnPropNameInTable="CountryNacionalnostChLabelColumn" msprop:Generator_UserColumnName="CountryNacionalnostChLabel" minOccurs="0">
                <xs:simpleType>
                  <xs:restriction base="xs:string">
                    <xs:maxLength value="150" />
                  </xs:restriction>
                </xs:simpleType>
              </xs:element>
            </xs:sequence>
          </xs:complexType>
        </xs:element>
      </xs:choice>
    </xs:complexType>
    <xs:unique name="Constraint1">
      <xs:selector xpath=".//mstns:dsVistInvitationSputniks" />
      <xs:field xpath="mstns:SputnikId" />
    </xs:unique>
  </xs:element>
</xs:schema>